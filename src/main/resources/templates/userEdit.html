<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Редактирование пользователей</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <th:block th:include="common/head.html :: head"></th:block>
    <link rel="stylesheet" href="/static/logincss1.css">
</head>
<body>
<div th:insert="~{common/body :: body}"></div>
<p></p>

<form class="myform" method="post" >

    <label class="mylabel">Изменение учетных данных <a href="/user">(назад)</a></label>
    <input type="hidden" th:value="${_csrf.token}" name="_csrf" placeholder="_csrf">
    <div>
        <input type="hidden" name="userId" th:value="${user.id}" placeholder="_userid">
    </div>
    <div class="form-floating">
        <input type="text" class="form-control" name="username" id="username" th:value="${user.username}" placeholder="Имя пользователя">
        <label width="100%" for="username">Имя пользователя</label>
    </div>

    <div class="form-floating mt-2">
        <input type="email" class="form-control" id="floatingInput" name = "email" th:value="${user.email}" placeholder="email">
        <label for="floatingInput">Email address</label>
    </div>
    <div class="form-floating mt-2">
        <input type="password" class="form-control" name="password" id="password" th:value="${user.password}" placeholder="password">
        <label for="password">Пароль</label>
    </div>

    <div class="form-floating mt-2">
        <input type="password" class="form-control" name="password2" id="password2" th:value="${user.password}" placeholder="password2">
        <label for="password2">Повторите пароль</label>
    </div>
    <label class="mylabel">активность пользователя</label>
    <div class="form-check" style="text-align: left">
        <input class="form-check-input" type="checkbox" th:checked="${user.active}" name="active" id="_useractive">
        <label class="form-check-label" for="_useractive" th:text="Active"></label>
    </div>
    <div class="form-label border-bottom">роли пользователя</div>
    <!--    <label class="mylabel border-bottom" ></label>-->
    <div th:each="role : ${roles}">

        <div class="form-check border-bottom" style="text-align: left">

            <input class="form-check-input" type="checkbox" th:name="${role}" th:checked="${user.roles.contains(role)}" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault" th:text="${role}"></label>

        </div>


    </div>
    <button class="buttonlogin" formaction="/user/saveuser">Сохранить</button>
    <p>

    </p>

</form>

</body>
</html>